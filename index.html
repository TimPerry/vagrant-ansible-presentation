<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Vagrant and Ansible</title>

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
    <link href="css/impress-demo.css" rel="stylesheet" />    
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>
<body class="impress-not-supported">
<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>
<div id="impress">

    <div class="step" data-x="-2000" data-y="-2000">
        <q><b>Your sandbox</b> - now powered by Vagrant and Ansible.</q>
    </div>

    <div class="step" data-x="0" data-y="-1500">
        <q>By then end you will hopefully understand not only what Vagrant is but learn that when combined with Ansible how powerful your new sandbox can be.</q>
    </div>

    <div class="step" data-x="0" data-y="0" data-scale="4">
        <q>"Ansible?, What's Ansible precious?"</q>
    </div>

    <div class="step" data-x="850" data-y="3000" data-rotate="90" data-scale="5">
        <p>So basically it goes like this: <span style="color: blue">Vagrant</span> does the setup of the <span style="color: blue">host</span> and <span style="color: blue">guest</span> then <span style="color: red">Ansible</span> does the setup of the <span style="color: red">OS</span>.</p>
    </div>

    <div class="step" data-x="3500" data-y="2100" data-rotate="180" data-scale="2">
        <img src="img/grumpy.jpg">
    </div>

    <div
     class="step" data-x="2825" data-y="2325" data-z="-3000" data-rotate="300" data-scale="1">
        <p>Seriosuly though, hopefully you get the idea. Vagrant does the setup of virtualbox. This means settings up the annoying little options such as network settings or maybe what folders you want to share with the guest.</p>
    </div>

    <div class="step" data-x="7000" data-y="-850" data-rotate="270" data-scale="6">
        <p>Then vagrant uses Ansible. Ansible is provisioner, there are alternatives that you may have heard of (Salt, Chef, Puppet etc...). Provisioners allow you to define that state of a machine, e.g. if a yum package should be installed or if you need a folder/file to exist.</p>
    </div>

    <div class="step" data-x="6700" data-y="10000" data-scale="15">
        <p>Cool but why do we need this?</p>
    </div>

    <div class="step" data-x="6300" data-y="-5000" data-rotate="20" data-scale="4">
        <p>We like Source Control right? We love that feeling when committing, knowing it is safe and secure. Then why should it be any different with our sandboxes? By having a disposable environment that we can put under version control we no longer invest in setting up our sandboxes, we invest in automation and automation is the key to moving forward.</p>
    </div>

    <div class="step" data-x="6000" data-y="4000" data-scale="2">
        <p>Another advantage of having zero investment is that we truly experiment. Got stuck patching a legacy system and totally messed up your sandbox? No problem. <b>vagrant destroy && vagrant up</b> and you are back up and running.
    </div>
    
    <div class="step" data-x="-8000" data-y="4000" data-scale="2">
        <p>Lets have a look at our Vagrantfile<p>
    </div>
    
    <div class="step" data-x="2000" data-y="6000" data-scale="1" data-rotate="45">
        <img style="margin-left: -280px" src="img/vagrantfile.jpg">
    </div>

    <div class="step" data-x="3000" data-y="4000" data-scale="2">
        <p>The import part is line 27, where we tell vagrant to provision using ansible. You will notice this line 'ansible.playbook = "ansible/vagrant.yml"' Ansible has this idea of a 'play' where it will run through a run book. This is what our playbook looks like...<p>
    </div>
    
    <div class="step" data-x="7000" data-y="7000" data-rotate="50" data-scale="4">
        <img src="img/playbook.jpg" style="height: 600px">
    </div>
    
    <div class="step" data-x="7000" data-y="15000" data-rotate="90" data-scale="9">
        <p>So hopefully most of that makes sense, as you can see there are various 'roles'. We have a tal-pal role, this does the base setup. Then we build on top of this with our project roles (i.e. iplayerfortv-sandbox), this is very basic in comparison and all it really does it a checkout and sim linking.</p>
    </div>
    
    <div class="step" data-x="8000" data-y="-9000" data-rotate="180" data-scale="2">
        <p>The roles use a folder structure:</p>
        <ul>
            <li>- files</li>
            <li>- handlers</li>
            <li>- tasks</li>
            <li>- templates</li>
            <li>- vars</li>
        </ul>
    </div>
    
    <div class="step" data-x="90000" data-y="5000" data-rotate="250" data-scale="6">
        <p>Ansible files are written in yaml, so you should probably read up on that if you are struggling with the syntax. Speaking of which, let's have a look through a task.</p>
    </div>
    
    <div class="step" data-x="12000" data-y="-12000" data-rotate="250" data-scale="15">
        <img style="margin-left: -180px" src="img/yum_task.jpg">
    </div>
    
    <div class="step" data-x="-99999" data-y="-99999" data-rotate="250" data-scale="15">
        <p>Any questions?</p>
    </div>
    
</div>

<div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>
<script src="js/impress.js"></script>
<script>impress().init();</script>
</body>
</html>